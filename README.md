# Ufanet Django Promotions

Веб-приложение для отображения и поиска акций от партнёров компании по городам и категориям.

## Оглавление

- [Описание](#описание)
- [Технологии](#технологии)
- [Установка и запуск](#установка-и-запуск)
- [Структура проекта](#структура-проекта)
- [Основной функционал](#основной-функционал)
- [Работа с акциями и городами](#работа-с-акциями-и-городами)
- [Админка](#админка)
- [Контакт](#контакт)

---

## Описание

Это учебный проект на Django/PostgreSQL для компании Ufanet.  
Пользователь может просматривать акции по категориям, искать по ключевым словам, фильтровать по городам, а также просматривать все акции сразу.

---

## Технологии

- Python 3.11+
- Django 5.2.1
- PostgreSQL (или SQLite для тестов)
- Bootstrap 5 (CDN)
- Pillow (для работы с изображениями)

---

## Установка и запуск

1. **Клонируйте репозиторий:**
   ```bash
   git clone <ссылка_на_репозиторий>
   cd ufanet_django/ufanet_project
   ```

2. **Создайте и активируйте виртуальное окружение:**
   ```bash
   python3 -m venv .venv
   source .venv/bin/activate
   ```

3. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

4. **Настройте базу данных:**
   - По умолчанию используется SQLite. Для PostgreSQL — настройте параметры в `settings.py`.

5. **Примените миграции:**
   ```bash
   python manage.py migrate
   ```

6. **Загрузите тестовые данные (опционально):**
   ```bash
   python manage.py loaddata promo/fixtures/initial_data.json
   ```

7. **Создайте суперпользователя для админки:**
   ```bash
   python manage.py createsuperuser
   ```

8. **Запустите сервер:**
   ```bash
   python manage.py runserver
   ```

---

## Структура проекта

- `promo/` — основное приложение
  - `models.py` — модели: Город, Категория, Партнёр, Акция
  - `views.py` — представления (категории, акции, поиск, просмотр всех акций)
  - `templates/promo/` — шаблоны (base, списки, детали, поиск)
  - `context_processors.py` — контекстный процессор для городов
  - `fixtures/` — тестовые данные
- `ufanet_project/` — настройки Django

---

## Основной функционал

- **Главная страница:** список категорий акций, фильтрация по городу.
- **Список акций:** по выбранной категории и/или городу, с пагинацией.
- **Поиск:** по названию, описанию, партнёру, с учётом города.
- **Просмотр всех акций:** отдельная страница со всеми акциями без фильтра по городу.
- **Детальная страница акции:** подробная информация, изображение, партнёр, город, срок действия.
- **Выбор города:** выпадающий список в шапке сайта, влияет на фильтрацию.
- **Пагинация:** для списков категорий, акций и результатов поиска.
- **Адаптивный дизайн:** Bootstrap 5.

---

## Работа с акциями и городами

- **Добавление/редактирование акций, городов, категорий, партнёров** — через Django Admin (`/admin/`).
- **Загрузка изображений** — через админку.
- **Новые акции отображаются первыми** (сортировка по убыванию id).

---

## Админка

- Доступна по адресу `/admin/`
- Для входа используйте данные суперпользователя, созданного ранее.
- Через админку можно:
  - Добавлять/редактировать города, категории, партнёров, акции
  - Загружать изображения для акций и категорий

---

## Контакт

**Автор:**  
ФИО, Telegram: @ваш_ник, email: ваш@почта

---

## Примечания

- Для корректной работы изображений убедитесь, что настроены `MEDIA_URL` и `MEDIA_ROOT` в `settings.py`.
- Для деплоя на сервер потребуется дополнительная настройка (например, для статики и медиа).

--- 